<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create Scales</title>

    <!-- VexFlow for music notation -->
    <script src="https://cdn.jsdelivr.net/npm/vexflow@3.0.9/releases/vexflow-debug.js"></script>

    <!-- Cookie utility -->
    <script src="scripts/cookies.js"></script>

    <!-- Tailwind CSS CDN (official) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- daisyUI CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@4.10.2/dist/full.css"
      rel="stylesheet"
    />
    <!-- Google Material Symbols -->
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <!-- Centralized theme for consistent UI -->
    <link href="styles/theme.css" rel="stylesheet" />

    <script type="module">
      import { HtmlFragmentLoader } from "./scripts/loader.js";
      window.addEventListener("DOMContentLoaded", () => {
        const loader = new HtmlFragmentLoader(
          "fragments/fragment-scale-selector.html",
          "fragments/fragment-b.html"
        );
        document.getElementById("fragments-container").appendChild(loader);
      });
    </script>
  </head>
  <body class="bg-base-200 flex flex-col min-h-screen">
    <div id="header-container"></div>
    <script src="scripts/header-fetch.js"></script>
    <script>
      headerFetch();
    </script>

    <div
      class="flex items-center gap-2 mb-8 px-4 py-2 rounded mtsFormatCreatorPages"
    >
      <span class="material-symbols-outlined">edit_square</span>
      <span id="dynamic-create-title" class="text-2xl">Create Scales</span>
    </div>

    <h1>create-scales-wc.html</h1>
    <br />

    <div id="fragments-container"></div>

    <hr />
    <!-- [ Staff Notation Area (fragment-staff-notation-area.html) ] -->
    <br />
    <hr />
    <!-- [ Scale Selector (fragment-scale-selector.html) ] -->
    <br />
    <hr />
    <!-- [ Scale Range Settings (fragment-scale-range-settings.html) ] -->
    <br />
    <hr />
    <!-- [ Duration & Direction (fragment-duration-direction.html) ] -->
    <br />
    <hr />
    <!-- [ Staff Formatting (fragment-staff-formatting.html) ] -->
    <br />
    <hr />
    <!-- [[ Save/Recall Workspace Snapshot (fragment-snapshot.html) ] -->
    <br />
    <hr />
    <!-- [ Diagnostics (fragment-scale-diagnostics.html) ] -->
    <br />
    <hr />

    <!-- Back button: Return to Creator -->
    <div style="max-width: 400px; margin: 2em auto">
      <a href="creator.html" class="mtsFormatCreatorButtons">
        <span
          class="material-symbols-outlined align-middle mr-2"
          aria-hidden="true"
          >edit_square</span
        >
        Return to Creator
      </a>
    </div>

    <!-- Footer fragment -->
    <div id="footer-container"></div>

    <!-- External logic and fragments -->
    <script src="scripts/pitchUtils.js"></script>
    <script src="scripts/pitchConverter.js"></script>
    <script src="scripts/cmtConverter.js"></script>
    <script src="scripts/show-scales.js"></script>
    <script type="module">
      import {
        setupOctaveCountControls,
        setupStartingOctaveControls,
        setupKeySignatureListener,
        setupReturnToCreatorButton,
      } from "./scripts/create-scales-controls.js";

      document.addEventListener("DOMContentLoaded", () => {
        setupOctaveCountControls();
        setupStartingOctaveControls();
        setupKeySignatureListener();
        setupReturnToCreatorButton();
      });
    </script>
    <script src="scripts/render-scale.js"></script>
    <script src="scripts/load-header.js"></script>
    <script src="scripts/load-footer.js"></script>
    <!-- Navigation logic now handled in create-scales-controls.js -->

    <div id="footer-container"></div>
    <script src="scripts/footer-fetch.js"></script>
    <script>
      footerFetch();
    </script>
  </body>
</html>
